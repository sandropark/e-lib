# 전자도서관 검색 서비스

- 검색, 조회 페이지
  - 검색
    - 키워드를 넣고 제목, 저자, 출판사 중에 걸리는 자료 모두 가져온다.
  - 페이징
    - 기본 20개, 35, 50개 선택 가능
  - 정렬
    - 여러 정렬 조건을 누를 때마다 해당 조건 오름,내림차순으로 정렬

- 관리자 페이지
  - 현재 지원하는 도서관 목록을 확인할 수 있다. 
  - 도서관 별로 크롤링 할 수 있다.

- 크롤링
  
## Todo

- 서비스 서버와 크롤링 서버 분리하기 (멀티 모듈)
- 서비스 배포하기

- 서비스
  - ~~xml 지원~~
  - 교보 외 서비스 추가 (예스24, 북큐브 등)
  - 서울도서관 추가

- 기능
  ~~- 총 도서수 업데이트 기능 추가~~

- DB 
  - 책 데이터 정리하기
    - 중복
    - 이미지 통일
    - 출판일 모두 추가
  - 총 도서수와 저장된 도서수가 다른 이유?

- 뷰
  - 다크 모드
  - 서비스
    - 루트 페이지에 지원하는 도서관 목록 보여주기
    - 검색, 조회 페이지
      - 도서 목록 뷰에 그리드 적용해서 모바일 화면에 맞게 반응형으로 만들기
      - 카드 크기 일정하게 만들기
  - 관리자 페이지
    - 삭제 버튼 클릭 시 경고 팝업 띄우기 (JS?? 부트스트랩??)

- 성능
  ~~- 크롤링 요청을 보낸 뒤 redirect 되는 시간이 걸린다. 쓰레드를 분리해서 컨트롤러는 크롤링 명령만 내리고 바로 redirect 되도록 개선하기.~~
  - 싱글쓰레드로 크롤링할 때 지금처럼 detailUrl 생성해서 할당하는 방식으로 하지 않고 반복문으로 마지막 페이지부터 역순으로 크롤링하기.
    돌때 마다 현재 저장된 도서랑 전체 도서수랑 비교해서 저장된 도서수가 같거나 크면 크롤링 종료.
    이 방식으로 하는 것이 유지보수 측면에서 더 효율적일 것 같다. 더 적은 노력으로 최신 상태를 유지할 수 있다.

- 오류
  ~~- 데이터 요청 시 타임아웃이나 bad request 해결~~